<!DOCTYPE html>
<html>
<head>
    <title>문자열과 숫자</title>
    <style>
        .area {
            width: 300px;
            border: 1px solid black;
        }

        .small {
            height: 200px;
        }

        .big {
            height: 450px;
        }
    </style>
</head>
<body>
    <h1>문자열과 숫자</h1>

    <h3>* 문자열 관련 기본 메소드</h3>
    
    <button onclick="stringTest();">문자열 처리 메소드</button>

    <div id="area1" class="area big"></div>

    <script>
        function stringTest() {
            const area1 = document.getElementById("area1"); // div 요소 객체

            const str1 = "Hello World";

            area1.innerHTML = "str1: " + str1 + "<br>";
            area1.innerHTML += "toUpperCase(): " + str1.toUpperCase() + "<br>";
            area1.innerHTML += "toLowerCase(): " + str1.toLowerCase() + "<br>";
            area1.innerHTML += "문자열의 길이: " + str1.length + "<br>";

            for (let i = 0; i < str1.length; i++) {
                area1.innerHTML += i + "번째 인덱스: " + str1.charAt(i) + "<br>";
            }

            area1.innerHTML += "앞에서부터 첫 l의 위치: " + str1.indexOf("l") + "<br>";
            area1.innerHTML += "뒤에서부터 첫 l의 위치: " + str1.lastIndexOf("l") + "<br>";
            area1.innerHTML += "앞에서부터 첫 a의 위치: " + str1.indexOf("a") + "<br>"; // a가 없기 때문에 -1 반환
            // 해당 문자가 존재하지 않을 경우에는 -1 반환

            area1.innerHTML += "substring(시작인덱스): " + str1.substring(6) + "<br>"; // 시작인덱스 ~ 끝
            area1.innerHTML += "substring(시작인덱스, 끝인덱스): " + str1.substring(0, 2) + "<br>"; // 시작인덱스 ~ 끝인덱스 전까지

            const str2 = "사과,바나나,복숭아,키위";
            const fruits = str2.split(","); // ["사과", "바나나", "복숭아", "키위"]

            area1.innerHTML += "fruits: " + fruits + "<br>";
            area1.innerHTML += "fruits의 자료형: " + typeof(fruits) + "<br>";

            console.log(fruits);
        }
    </script>

    <br>

    <h3>* 문자열 관련 HTML 메소드</h3>
    <button onclick="stringHtmlTest();">문자열 HTML 메소드</button>
    <div id="area2" class="area big"></div>

    <script>
        function stringHtmlTest() {
            const area2 = document.getElementById("area2");
            const str = "JavaScript";

            area2.innerHTML = "str: " + str + "<br>";
            area2.innerHTML += "bold(): " + str.bold() + "<br>"; // str을 <b></b> 태그로 감싸줌
            area2.innerHTML += "italics(): " + str.italics() + "<br>"; // str을 <i></i> 태그로 감싸줌
            area2.innerHTML += "small(): " + str.small() + "<br>"; // <small></small> 태그로 감싸줌
            area2.innerHTML += "sub(): " + str.sub() + "<br>"; // <sub></sub> 태그
            area2.innerHTML += "sup(): " + str.sup() + "<br>"; // <sup></sup> 태그
            
            area2.innerHTML += "link(): " + str.link("http://www.naver.com") + "<br>"; // <a> 태그
        }
    </script>

    <hr>

    <h3>* 숫자(수학) 관련 메소드</h3>
    <button onclick="mathTest();">수학 관련 메소드</button>
    <div id="area3" class="area small"></div>

    <script>
        function mathTest() {
            const area3 = document.querySelector("#area3");

            // 자바스크립트에서 Math라는 내장객체 제공
            area3.innerHTML = "절대값: " + Math.abs(-123) + "<br>";
            area3.innerHTML += "랜덤값: " + Math.random() + "<br>";
            area3.innerHTML += "반올림: " + Math.round(123.658) + "<br>"; // 가장 가까운 정수값 줌, 위치지정 불가능
            // area3.innerHTML += "반올림: " + Math.round(123.658, 2) + "<br>"; // 가장 가까운 정수값 줌, 위치지정 불가능
            // 함수에 존재하지 않는 args를 입력하면 그냥 무시해버림
            area3.innerHTML += "버림: " + Math.floor(123.5678) + "<br>"; // 소수점 뒤는 다 버림
            area3.innerHTML += "올림: " + Math.ceil(132.134) + "<br>";
        }
    </script>

    <hr>

    <h3>* 문자들과 숫자간의 산술연산 / 형변환</h3>
    <button onclick="arithmetic();">산술연산</button>
    <div id="area4" class="area big"></div>

    <script>
        function arithmetic() {
            const test1 = 7 + 7; // 14
            const test2 = 7 + "7"; // "77"
            const test3 = "7" + 7; // "77"
            const test4 = "7" + 7 + 7; // "77" + 7 => "777"
            const test5 = "7" + (7 + 7); // "7" + 14 => "714"
            
            /*
             자바에서는 "7" - 7 => 오류 (*, / 포함)
             자바스크립트에서는 덧셈 외의 산술 연산 가능
             문자열이 자동 형변환이 돼서 숫자로 변환된 뒤 숫자로 산술연산 됨
             단, 문자열에는 숫자만 존재해야함.
            */

            const test6 = "7" - 7;
            const test7 = "7" * 7;
            const test8 = "7" / 7;

            const area4 = document.querySelector("#area4");

            area4.innerHTML = "test6: " + test6 + "<br>";
            area4.innerHTML += "test7: " + test7 + "<br>";
            area4.innerHTML += "test8: " + test8 + "<hr>";

            // 덧셈 연산 시에는 자동 형변환 되지 않고 연이어서 한 문자열로 됨

            // 강제 형변환(문자열 -> 숫자)

            // 1) Number(문자열)
            // 2) parseInt(문자열) => 문자열이 정수일 경우
            // 3) parseFloat(문자열) => 문자열이 실수일 경우

            // 2 + "3" 덧셈연산
            const test9 = 2 + "3"; // "23"

            const test10 = 2 + Number("3"); // 5
            const test11 = 2 + parseInt("3"); // 5
            const test12 = 2 + parseFloat("3"); // 5

            area4.innerHTML += "test10: " + test10 + "<br>";
            area4.innerHTML += "test11: " + test11 + "<br>";
            area4.innerHTML += "test12: " + test12 + "<hr>";

            // 2 + "1.234" 덧셈연산
            const test13 = 2 + "1.234"; // 21.234
            const test14 = 2 + Number("1.234");
            const test15 = 2 + parseInt("1.234"); // 1.234 => 1 => 3
            const test16 = 2 + parseFloat("1.234");

            area4.innerHTML += "test14: " + test14 + "<br>"
            area4.innerHTML += "test15: " + test15 + "<br>"
            area4.innerHTML += "test16: " + test16 + "<hr>"
        }
    </script>

    <hr>
    <!-- 강제 형변환이 필요한 경우 => 계산기 (무조건 문자열로 가지고오게됨) -->
    정수 1: <input type="text" id="num1"> <br>
    정수 2: <input type="text" id="num2">

    <div id="result">결과없음</div>
    <button onclick="plus();">덧셈</button>

    <script>
        function plus() {
            // input 요소의 value 값은 무조건 string 타입
            const num1 = document.getElementById("num1").value; // "10"
            const num2 = document.getElementById("num2").value; // "20"

            // const sum = num1 + num2; // "1020"
            const sum = Number(num1) + Number(num2); // 30

            document.getElementById("result").innerHTML = "결과: " + sum;
        }
    </script>
</body>
</html>